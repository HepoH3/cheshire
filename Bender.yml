# Copyright 2022 ETH Zurich and University of Bologna.
# Solderpad Hardware License, Version 0.51, see LICENSE for details.
# SPDX-License-Identifier: SHL-0.51

package:
  name: cheshire
  authors:
    - "Nicole Narr <narrn@student.ethz.ch>"
    - "Christopher Reinwardt <creinwar@student.ethz.ch>"
    - "Paul Scheffler <paulsc@iis.ee.ethz.ch>"
    - "Alessandro Ottaviano <aottaviano@iis.ee.ethz.ch>"
    - "Thomas Benz <tbenz@iis.ee.ethz.ch>"

dependencies:
  apb_uart:                 { git: "https://github.com/pulp-platform/apb_uart.git",               version: 0.2.1  }
  axi:                      { git: "https://github.com/pulp-platform/axi.git",                    rev: ac4a0245   } # zx/axi_burst_unwrap
  axi_llc:                  { git: "https://github.com/Aquaticfuller/axi_llc.git",                rev: edae8021   }
  axi_riscv_atomics:        { git: "https://github.com/pulp-platform/axi_riscv_atomics.git",      version: 0.8.1  }
  axi_rt:                   { git: "https://github.com/pulp-platform/axi_rt.git",                 version: 0.0.0-alpha.4 }
  axi_vga:                  { git: "https://github.com/pulp-platform/axi_vga.git",                version: 0.1.1  }
  clic:                     { git: "https://github.com/pulp-platform/clic.git",                   version: 2.0.0  }
  clint:                    { git: "https://github.com/pulp-platform/clint.git",                  version: 0.2.0  }
  common_cells:             { git: "https://github.com/pulp-platform/common_cells.git",           version: 1.32.0 }
  common_verification:      { git: "https://github.com/pulp-platform/common_verification.git",    version: 0.2.0  }
  cva6:                     { git: "https://github.com/pulp-platform/cva6.git",                   rev: pulp-v0.4.3 }
  iDMA:                     { git: "https://github.com/pulp-platform/iDMA.git",                   version: 0.5.1  }
  irq_router:               { git: "https://github.com/pulp-platform/irq_router.git",             version: 0.0.1-beta.1 }
  opentitan_peripherals:    { git: "https://github.com/pulp-platform/opentitan_peripherals.git",  version: 0.4.0  }
  register_interface:       { git: "https://github.com/pulp-platform/register_interface.git",     version: 0.4.2  }
  riscv-dbg:                { git: "https://github.com/pulp-platform/riscv-dbg.git",              rev: f69f6342   } # zx/cheshire_c910
  serial_link:              { git: "https://github.com/pulp-platform/serial_link.git",            version: 1.1.0  }
  unbent:                   { git: "https://github.com/pulp-platform/unbent.git",                 version: 0.1.5  }
  # soc910:                   { git: "git@iis-git.ee.ethz.ch:nwistoff/soc910.git",                  rev: 7c218d05   }
  # register_interface:       { path: vendor/pulp_register_interface                                                  }
  # soc910:                   { path: soc910/hw/system                                                              }
  pulp_c910:                { git: "git@iis-git.ee.ethz.ch:nwistoff/pulp_c910.git",               rev: 4d6d64f4   } # zx/axi_burst_unwrap

export_include_dirs:
  - hw/include

# vendor_package:
#   - name: register_interface
#     target_dir: vendor/pulp_register_interface
#     upstream: { git: "https://github.com/pulp-platform/register_interface.git", rev: "d7693be4aef1fc7e7eb2b00b41c42e87d959866c" }
#     patch_dir: "vendor/patches/pulp_register_interface"

sources:
  - hw/bootrom/cheshire_bootrom.sv
  # - hw/bootrom/cheshire_bootrom_for_test.sv
  - hw/regs/cheshire_reg_pkg.sv
  - hw/regs/cheshire_reg_top.sv
  - hw/cva6_pkg.sv
  # - hw/c910_pkg.sv
  - hw/cheshire_pkg.sv
  - hw/cheshire_soc.sv

  - target: any(simulation, test, gate)
    files:
      - target/sim/models/s25fs512s.v
      - target/sim/models/24FC1025.v
      - target/sim/src/vip_cheshire_soc.sv
      - target/sim/src/tb_cheshire_pkg.sv
      - target/sim/src/fixture_cheshire_soc.sv
      - target/sim/src/tb_cheshire_soc.sv

  - target: any(cosim)
    files:
      # - target/sim/src/dpi/util/one_counter.sv
      # - target/sim/src/dpi/util/usage_manager.sv
      # - target/sim/src/dpi/util/mp_fifo.sv
      - target/sim/src/spike.sv

  - target: all(fpga, xilinx)
    files:
      - target/xilinx/src/fan_ctrl.sv
      - target/xilinx/src/dram_wrapper_xilinx.sv
      - target/xilinx/src/phy_definitions.svh
      - target/xilinx/src/cheshire_top_xilinx.sv

  - target: any(gate)
    defines:
      # Defines without value:
      IVCS_INIT_MEM: ~
      IVCS_FAST_FUNC: ~
    files:
      - /scratch2/zexifu/cheshire_try_bak/cheshire/working_dir/cell_model/GF22FDX_SC8T_104CPP_BASE_CSC20SL.v
      - /scratch2/zexifu/cheshire_try_bak/cheshire/working_dir/cell_model/GF22FDX_SC8T_104CPP_BASE_CSC20L.v
      - /scratch2/zexifu/cheshire_try_bak/cheshire/working_dir/cell_model/GF22FDX_SC8T_104CPP_BASE_CSC24SL.v
      - /scratch2/zexifu/cheshire_try_bak/cheshire/working_dir/cell_model/GF22FDX_SC8T_104CPP_BASE_CSC24L.v
      - /scratch2/zexifu/cheshire_try_bak/cheshire/working_dir/cell_model/GF22FDX_SC8T_104CPP_BASE_CSC28SL.v
      - /scratch2/zexifu/cheshire_try_bak/cheshire/working_dir/cell_model/GF22FDX_SC8T_104CPP_BASE_CSC28L.v
      - /scratch2/zexifu/cheshire_try_bak/cheshire/working_dir/cell_model/prim.v

      # - /usr/pack/gf-22-kgf/invecas/std8t/2020.01/GF22FDX_SC8T_104CPP_BASE_CSC20SL_FDK_RELV06R40/model/verilog/GF22FDX_SC8T_104CPP_BASE_CSC20SL.v
      # - /usr/pack/gf-22-kgf/invecas/std8t/2020.01/GF22FDX_SC8T_104CPP_BASE_CSC20L_FDK_RELV06R40/model/verilog/GF22FDX_SC8T_104CPP_BASE_CSC20L.v
      # - /usr/pack/gf-22-kgf/invecas/std8t/2020.01/GF22FDX_SC8T_104CPP_BASE_CSC24SL_FDK_RELV06R40/model/verilog/GF22FDX_SC8T_104CPP_BASE_CSC24SL.v
      # - /usr/pack/gf-22-kgf/invecas/std8t/2020.01/GF22FDX_SC8T_104CPP_BASE_CSC24L_FDK_RELV06R40/model/verilog/GF22FDX_SC8T_104CPP_BASE_CSC24L.v
      # - /usr/pack/gf-22-kgf/invecas/std8t/2020.01/GF22FDX_SC8T_104CPP_BASE_CSC28SL_FDK_RELV06R40/model/verilog/GF22FDX_SC8T_104CPP_BASE_CSC28SL.v
      # - /usr/pack/gf-22-kgf/invecas/std8t/2020.01/GF22FDX_SC8T_104CPP_BASE_CSC28L_FDK_RELV06R40/model/verilog/GF22FDX_SC8T_104CPP_BASE_CSC28L.v

      - /scratch2/zexifu/cheshire_try_bak/cheshire/working_dir/mem_model/IN22FDX_R1PH_NFHN_W01024B032M04C256.v
      - /scratch2/zexifu/cheshire_try_bak/cheshire/working_dir/mem_model/IN22FDX_R1PH_NFHN_W00128B025M02C256.v
      - /scratch2/zexifu/cheshire_try_bak/cheshire/working_dir/mem_model/IN22FDX_R1PH_NFHN_W00512B032M02C256.v
      - /scratch2/zexifu/cheshire_try_bak/cheshire/working_dir/mem_model/IN22FDX_R1PH_NFHN_W00256B023M02C256.v
      - /scratch2/zexifu/cheshire_try_bak/cheshire/working_dir/mem_model/IN22FDX_R1PH_NFHN_W00256B128M02C256.v

      # - /usr/pack/gf-22-kgf/dz/mem/R1PH/V04R20SZ/model/verilog/IN22FDX_R1PH_NFHN_W01024B032M04C256.v
      # - /usr/pack/gf-22-kgf/dz/mem/R1PH/V04R20SZ/model/verilog/IN22FDX_R1PH_NFHN_W00128B025M02C256.v
      # - /usr/pack/gf-22-kgf/dz/mem/R1PH/V04R20SZ/model/verilog/IN22FDX_R1PH_NFHN_W00512B032M02C256.v
      # - /usr/pack/gf-22-kgf/dz/mem/R1PH/V04R20SZ/model/verilog/IN22FDX_R1PH_NFHN_W00256B023M02C256.v
      # - /usr/pack/gf-22-kgf/dz/mem/R1PH/V04R20SZ/model/verilog/IN22FDX_R1PH_NFHN_W00256B128M02C256.v

      - /scratch2/zexifu/cheshire_try_bak/cheshire/working_dir/cell_model/GF22FDX_SC8T_104CPP_HPK_CSL.v
      # - /usr/pack/gf-22-kgf/invecas/std/2020.01/GF22FDX_SC8T_104CPP_HPK_CSL_FDK_RELV03R40/model/verilog/GF22FDX_SC8T_104CPP_HPK_CSL.v


      # synthesis netlist:
      # - /usr/scratch2/larain1/zexifu/cheshire_try_bak/cva6pp_gf22/gf22/synopsys/runs/c910MULTI_T1400___19_52_46__13_08_2024/netlists/c910_axi_wrap.v
      # post layout netlist:
      # - /usr/scratch2/larain1/zexifu/cheshire_try_bak/cva6pp_gf22/gf22/innovus/out/c910_axi_wrap.v
      - /usr/scratch2/larain1/zexifu/cheshire_try_bak/cva6pp_gf22/gf22/innovus_20240831_025536/innovus_800/out/c910_axi_wrap.v
